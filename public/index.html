<!DOCTYPE html>
<html>
<head>
  <title>Bootstrap Tabs Example</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"></head>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</head>
<body>
<div class="container mt-4">

  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active" data-bs-toggle="tab" href="#tab1">Upload log file</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#tab2" id="tab2-link">General information</a>
    </li>
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Network</a>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" data-bs-toggle="tab" href="#tab3" id="tab3-link">Connectivity</a></li>
        <li><a class="dropdown-item" data-bs-toggle="tab" href="#tab4" id="tab4-link">Data usage</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="#">Syncing</a></li>
        <li><a class="dropdown-item" href="#">GRANDPA</a></li>
        <li><a class="dropdown-item" href="#">Transactions</a></li>
      </ul>
    </li>
  </ul>

  <div class="tab-content mt-2">
    <div id="tab1" class="tab-pane fade show active">
      <h2>Upload</h2>
    </div>

    <div id="tab2" class="tab-pane fade">
      <h3>General information</h3>

      <span class="badge text-bg-danger" style="display: none" id="best_block">Best block lagging</span>
      <span class="badge text-bg-danger" style="display: none" id="finalized_block">Finality lagging</span>
      <span class="badge text-bg-warning" style="display: none" id="slow_block_import">Slow block import</span>

      <hr>
      <h4>Best and finalized blocks</p>
      <div id="best_and_finalized"></div>

      <hr>
      <h4>Received block announcements</h4>
      <div class="alert alert-info" role="alert" id="block_announcement_info" style="display: none">
        Did not receive any block announcements.
      </div>
      <div id="block_announcements"></div>

      <hr>
      <h4>Block import times, inverted</h4>
      <div id="block_import"></div>

    </div>
    <div id="tab3" class="tab-pane fade">
      <h3>Connectivity information</h3>
      <span class="badge text-bg-warning" style="display: none" id="peer_count_warn">Low peer count</span>

      <hr>
      <h4>Number of peers</h4>
      <div id="peer_count"></div>

      <hr>
      <h4>Connectivity</h4>
      <div class="alert alert-info" role="alert" id="connectivity_info" style="display: none">
        Did not read any connectivity events.
      </div>
      <div id="connectivity">
      </div>

    </div>

    <div id="tab4" class="tab-pane fade">
      <h3>Data usage</h3>
      <span class="badge text-bg-warning">High message usage</span>
      <span class="badge text-bg-warning">High byte usage</span>

      <hr>
      <h4>Bytes sent</h4>
      <div class="alert alert-info" role="alert" id="bytes_sent_info" style="display: none">
        Did not send any bytes.
      </div>
      <div id="bytes_sent">
      </div>

      <hr>
      <h4>Bytes received</h4>
      <div class="alert alert-info" role="alert" id="bytes_received_info" style="display: none">
        Did not receive any bytes.
      </div>
      <div id="bytes_received">
      </div>

      <hr>
      <h4>Messages sent</h4>
      <div class="alert alert-info" role="alert" id="messages_sent_info" style="display: none">
        Did not send any messages.
      </div>
      <div id="messages_sent">
      </div>

      <hr>
      <h4>Messages received</h4>
      <div class="alert alert-info" role="alert" id="messages_received_info" style="display: none">
        Did not receive any messages.
      </div>
      <div id="messages_received">
      </div>

    </div>
  </div>
</div>

<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="http://localhost:8000/general.js"></script>
<script src="http://localhost:8000/network.js"></script>
</body>
</html>
